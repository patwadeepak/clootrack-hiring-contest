(this.webpackJsonpapp1=this.webpackJsonpapp1||[]).push([[0],{231:function(e,t,a){},236:function(e,t,a){},240:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(40),i=a.n(r),o=(a(231),a(42)),s=a(419),l=a(420),u=a(415),d=a(416),j=(a(236),a(3)),b=function(e){var t=e.label,a=e.value,n=e.options,c=void 0===n?[]:n,r=e.handleChange;return Object(j.jsxs)(s.a,{className:"dropdown",children:[Object(j.jsx)(l.a,{children:t}),Object(j.jsx)(u.a,{label:t,onChange:r,value:a,children:c.map((function(e,a){return Object(j.jsx)(d.a,{value:a,children:"Chart"===t?"".concat(t," ").concat(a+1):"".concat(e)},a)}))})]})},h=a(82),f=a.n(h),O=a(197),v=a(101),p=Object(v.b)("chart/fetchData",Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://s3-ap-southeast-1.amazonaws.com/he-public-data/chart2986176.json").then((function(e){return e.json()})).then((function(e){return{data:e}}));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),x=Object(v.c)({name:"data",initialState:{status:"idle",value:[],selected:""},reducers:{changeSelected:function(e,t){e.selected=t.payload},updateData:function(e,t){e.value[e.selected]=t.payload}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.status="loading"})).addCase(p.fulfilled,(function(e,t){e.status="idle",e.value=t.payload}))}}),m=x.actions,g=m.changeSelected,w=m.updateData,y=function(e){return e.data},S=function(e){return e.data.value.length?e.data.value[e.data.selected]:{type:"",elements:[]}},N=x.reducer,C=function(){var e=Object(o.c)(y),t=Object(o.b)();return Object(j.jsx)(b,{label:"Chart",options:e.value,handleChange:function(e){return t(g(e.target.value))},value:e.selected})},M=a(102),k=a(13),B=(a(240),function(){var e=Object(o.b)(),t=Object(o.c)(S),a=Object(n.useState)(""),c=Object(k.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(JSON.stringify(t)),l=Object(k.a)(s,2),u=l[0],d=l[1],h=Object(n.useState)(!1),f=Object(k.a)(h,2),O=f[0],v=f[1],p=Object(n.useState)(""),x=Object(k.a)(p,2),m=x[0],g=x[1];Object(n.useEffect)((function(){d(t),t&&t.type&&i(t.type)}),[t]);return Object(j.jsxs)("div",{className:"dataModifier",children:[Object(j.jsx)("div",{children:"Edit chart data below"}),Object(j.jsx)(b,{label:"Type",options:["Bar","Pie"],handleChange:function(a){return e(w(Object(M.a)(Object(M.a)({},t),{},{type:0===a.target.value?"Bar":"Pie"})))},value:"Bar"===r?0:1}),Object(j.jsx)("br",{}),Object(j.jsx)("textarea",{label:"Data",value:u&&u.elements&&u.elements.map((function(e){return isNaN(e)?"":e})).join("\n"),onChange:function(a){try{d(a.target.value);var n=a.target.value.split("\n").map((function(e){return parseInt(e)}));if("Pie"===r&&n.filter((function(e){return e<0})).length)throw new Error("Pie chart cannot have negative values");n.toString()!==t.elements.toString()&&(e(w(Object(M.a)(Object(M.a)({},t),{},{elements:n}))),g(""),v(!1))}catch(a){g(a.message),v(!0)}},style:{fontSize:"1rem",padding:"5px",width:"8rem",resize:"vertical"}}),O&&Object(j.jsx)("div",{children:m})]})}),E=a(410),D=a(414),P=a(208),z=a(209),J=a(105),K=a(216),A=a(122),I=a(418),R=a(210),W=function(e){return e?e.elements.map((function(e){return{value:isNaN(e)?"":e,color:L()}})):[]},L=function(){var e=Math.floor(360*Math.random());return T(e)},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:52,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:68;a/=100;var n=t*Math.min(a,1-a)/100,c=function(t){var c=(t+e/30)%12,r=a-n*Math.max(Math.min(c-3,9-c,1),-1);return Math.round(255*r).toString(16).padStart(2,"0")};return"#".concat(c(0)).concat(c(8)).concat(c(4))},$=function(){var e=Object(o.c)(S),t=Object(n.useState)([]),a=Object(k.a)(t,2),c=a[0],r=a[1];return Object(n.useEffect)((function(){var t=W(e);r(t)}),[e]),c&&c.length?"Bar"===e.type?Object(j.jsxs)(E.a,{width:500,height:300,data:c,margin:{top:5,right:30,left:20,bottom:5},children:[Object(j.jsx)(D.a,{strokeDasharray:"3 3"}),Object(j.jsx)(P.a,{dataKey:"value"}),Object(j.jsx)(z.a,{}),Object(j.jsx)(J.a,{}),Object(j.jsx)(K.a,{dataKey:"value",fill:"#8884d8",children:c.map((function(e,t){return Object(j.jsx)(A.a,{stroke:e.color,fill:e.color},t)}))})]}):Object(j.jsxs)(I.a,{width:400,height:400,children:[Object(j.jsx)(R.a,{data:c,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:!0,children:c.map((function(e,t){return Object(j.jsx)(A.a,{fill:e.color},"cell-".concat(t))}))}),Object(j.jsx)(J.a,{})]}):"Select a Chart from dropdown"},q=(a(370),function(){var e=Object(o.b)();return Object(n.useEffect)((function(){e(p())}),[e]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("div",{className:"section",children:Object(j.jsxs)("div",{className:"App-header",children:[Object(j.jsx)(C,{}),Object(j.jsx)(B,{})]})}),Object(j.jsx)("div",{className:"section",children:Object(j.jsx)($,{})})]})}),F=Object(v.a)({reducer:{data:N}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(o.a,{store:F,children:Object(j.jsx)(q,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[371,1,2]]]);
//# sourceMappingURL=main.194118b6.chunk.js.map